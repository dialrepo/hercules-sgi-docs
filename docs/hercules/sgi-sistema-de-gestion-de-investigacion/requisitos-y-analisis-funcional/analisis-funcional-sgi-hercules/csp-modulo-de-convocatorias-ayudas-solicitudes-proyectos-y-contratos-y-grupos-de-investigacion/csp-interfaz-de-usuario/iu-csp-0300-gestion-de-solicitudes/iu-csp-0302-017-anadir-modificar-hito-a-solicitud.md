# Hércules : IU\-CSP\-0302\-017 \- Añadir\-modificar hito a solicitud



## Formulario Añadir/modificar hito

Pantalla que muestra un formulario a través de que se puede añadir o modificar un hito a una solicitud.

Los hitos se añaden o modifican desde la pestaña de "Hitos" de la convocatoria [IU\-CSP\-0304\-005 \- Modificar Solicitud \- Modificar Hitos \- Unidades de gestión](/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-interfaz-de-usuario/iu-csp-0300-gestion-de-solicitudes/iu-csp-0304-modificar-solicitud/iu-csp-0304-005-modificar-solicitud-modificar-hitos-unidad-de-gestion.md "/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-interfaz-de-usuario/iu-csp-0300-gestion-de-solicitudes/iu-csp-0304-modificar-solicitud/iu-csp-0304-005-modificar-solicitud-modificar-hitos-unidad-de-gestion.md").

Para añadir un nuevo hito, se pulsará en dicha ventana el botón "Añadir hito" y para modificar los datos de un hito ya añadido, se pulsará sobre el icono "Modificar" dentro de las Acciones sobre el hito que se desee.



| ***Vista en modo "Añadir" SIN AVISO******Vista en modo "Modificar" SIN AVISO******Vista popup en modo "Añadir" CON AVISO******Vista popup en modo "Modificar" CON AVISO (Se omite la versión SIN AVISO, por ser obvia)******Vista popup en modo "Solo consulta" CON AVISO (Se omite la versión SIN AVISO, por ser obvia)******Ejemplo de email de aviso*** | | |
| --- | --- | --- |
| Nombre | Tipo | Características / Notas |
| Tipo de hito | SelectorTexto cortoObligatorioModificable | El valor se debe seleccionar del listado proporcionado. En el listado se mostrarán los tipos de hito de solicitud que estén vinculados con carácter activo al modelo de ejecución al que se ha asociado la convocatoria vinculada a la solicitud.Será obligatorio seleccionar un tipo de hito. |
| Fecha y hora | Fecha \+ HoraObligatorioModificable | Calendario para marcar el día y hora al que se vincula el hito. Por defecto la hora estará inicializada a las 00:00:00\.Podrá ser una fecha a pasado o a futuro.Será un campo obligatorio.Si se cambia el valor de este campo estando aún los cambios del hito sin guardar y ya se había marcado el check "Generar aviso", pueden ocurrir dos cosas:1. La nueva fecha y hora es a futuro. En este caso, al cambiar la fecha u hora del hito, se restablecerán todos los campos del aviso a sus valores por defecto. 2. La nueva fecha y hora es a pasado. En este caso, se desmarcará automáticamente el check "Generar aviso" limpiando todos los datos que se pudiesen haber introducido relativos al mismo.  Si se cambia el valor de este campo, estando ya los cambios del hito guardados, y estando marcado el check "Generar aviso", no se restablecerán los datos del aviso. |
| Observaciones | Texto largoOpcionalModificable | Campo de texto libre para la introducción de observaciones sobre el hito concreto.Podrá modificarse y/o dejarse vacío.Si se modifica a posterioridad de haber marcado el check de "Generar aviso", no se volcará en el campo Contenido del comunicado, ya que, en otro caso, se perdería el texto existente previamente. |
| Generar aviso | BooleanoModificable | Indicador de generación de aviso asociado al hito que corresponderá al campo "aviso" de la tabla "hitos solicitud".Si en el campo Fecha se ha indicado una fecha ya pasada, el campo "Generar aviso" tomará el valor false, y no podrá modificarse, esto es, no podrá ni marcarse ni desmarcarse (no editable).Si la fecha del hito es posterior a la actual y, en el caso de la modificación, el aviso aún no ha sido enviado, el campo será editable, esto es, podrá marcarse o desmarcarse (según fuera su estado original).Al marcar este check, en caso de estar informado, se volcará al final del contenido por defecto del email el texto "En el hito se han indicado las siguientes observaciones: " seguido del contenido que pudiese tener el campo Observaciones. |
| ***Campos específicos del aviso*** **La obligatoriedad de estos campos aplicará en el momento que el check "Generar aviso" esté marcado.** **En la modificación, si la fecha y hora para el envío del aviso ya ha pasado, todos los campos a continuación se mostrarán en modo de solo consulta.** | | |
| Fecha y hora de envío | Fecha \+ HoraObligatorioModificable | Fecha y hora en la que se programa el envío del comunicado.En el alta del hito, por defecto, aparecerá la fecha y hora del hito. En la modificación, aparecerá la fecha y hora que se hubiese indicado previamente.Mientras sea modificable, esta fecha deberá ser posterior al momento actual \+ 15 minutos, para permitir que al usuario le pueda dar tiempo a realizar los cambios que precise en el hito, el aviso o en otros apartados de la solicitud, antes de Guardar los cambios en la pantalla de Solicitudes, momento en el que se ya sí se registrará la programación o modificación del envío para la fecha y hora indicadas. En la modificación, la fecha y hora podrán ser modificadas por el usuario solo si el aviso aún no ha sido enviado. |
| Asunto | TextoObligatorioModificable | Asunto que tendrá el email de aviso.Se mostrará un asunto por defecto según lo definido en el apartado **Hitos de solicitudes** de la página [CSP \- Comunicados](/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-comunicados/index.md "/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-comunicados/index.md") que podrá ser modificado posteriormente por el usuario.El usuario podrá modificar este dato si el aviso aún no ha sido enviado. |
| Contenido del email | Texto largoObligatorioModificable | Contenido o cuerpo del email de aviso.Se mostrará un contenido por defecto según lo definido en el apartado **Hitos de solicitudes** de la página [CSP \- Comunicados](/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-comunicados/index.md "/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-comunicados/index.md"), que podrá ser modificado posteriormente por el usuario.El usuario podrá modificar este dato si el aviso aún no ha sido enviado. |
| Destinatarios | Componente a medidaObligatorioModificable | Lista de destinatarios del email adicionales a los que añadirá el check "Añadir IPs solicitud" si se marca.Se mostrarán unos destinatarios por defecto según lo definido en el apartado **Hitos de solicitudes** de la página [CSP \- Comunicados](/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-comunicados/index.md "/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-comunicados/index.md") que podrán, según el caso, ser modificados posteriormente por el usuario.El comportamiento y uso de este componente se describe en detalle en [IU\-COM\-0010 \- Generación de comunicados \- Gestión de destinatarios](https://confluence.um.es/confluence/pages/viewpage.action?pageId=121673628#IUCOM0010Generacióndecomunicados-destinatarios "https://confluence.um.es/confluence/pages/viewpage.action?pageId=121673628#IUCOM0010Generacióndecomunicados-destinatarios").El usuario podrá modificar los destinatarios si el aviso aún no ha sido enviado. |
| Añadir IPs solicitud | BooleanoModificable | Indicador de si se quiere añadir a los IPs de la solicitud como destinatarios del email de aviso.Estos destinatarios no se mostrarán ni se guardarán en el campo "Destinatarios" ya que se resolverán en el día y hora en el que se haya programado el envío del aviso.El usuario podrá modificar este dato si el aviso aún no ha sido enviado. |



| Acciones | Descripción | Enlace CU. |
| --- | --- | --- |
| Añadir/Aceptar | El botón se muestra como:* Añadir, cuando se accede al formulario para añadir un nuevo hito  a la solicitud. * Aceptar, cuando se accede al formulario para modificar los datos de un hito existente. * No se muestra, cuando se accede al formulario para ver los datos de un hito existente en modo de solo consulta. | En el alta, se crea un nuevo registro en la tabla "Solicitud Hito", tomando como valores los recogidos en el formulario.En la modificación, se modificarán los datos de dicho registro existente previamente, tomando como valores los recogidos en el formulario.En el alta, en caso de haberse marcado el flag "Generar aviso":* Los campos específicos del aviso serán utilizados para generar un aviso y una tarea programada para su envío en los módulos de comunicados [COM \- Módulo de Comunicados](/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/gen-aspectos-generales/com-modulo-de-comunicados/index.md "/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/gen-aspectos-generales/com-modulo-de-comunicados/index.md") y tareas programadas [SGI \- TP](/hercules/sgi-sistema-de-gestion-de-investigacion/diseno/componentes/sgi-tp/index.md "/hercules/sgi-sistema-de-gestion-de-investigacion/diseno/componentes/sgi-tp/index.md") respectivamente según se detalla en el apartado **Hitos de solicitudes** de la página [CSP \- Comunicados](/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-comunicados/index.md "/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/csp-modulo-de-convocatorias-ayudas-solicitudes-proyectos-y-contratos-y-grupos-de-investigacion/csp-comunicados/index.md") y en [CU\-COM\-0020 \- Generar comunicado programado](/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/gen-aspectos-generales/com-modulo-de-comunicados/com-casos-de-uso/cu-com-0020-generar-comunicado-programado.md "/hercules/sgi-sistema-de-gestion-de-investigacion/requisitos-y-analisis-funcional/analisis-funcional-sgi-hercules/gen-aspectos-generales/com-modulo-de-comunicados/com-casos-de-uso/cu-com-0020-generar-comunicado-programado.md"). * Se creará un nuevo registro en la tabla "convocatoria hito aviso" para almacenar del valor del check "Añadir IPs solicitud" y las referencias al comunicado y tarea programada generados en el punto anterior.  En la modificación, se dan 3 posibles escenarios:* Si se marca el flag "Generar aviso", sin que previamente hubiese estado marcado: * + Los campos específicos del aviso serán utilizados para generar un aviso y una tarea programada para su envío en los módulos de comunicados [COM \- Módulo de Comunicados](https://confluence.um.es/confluence/pages/viewpage.action?pageId=85636024 "https://confluence.um.es/confluence/pages/viewpage.action?pageId=85636024") y tareas programadas [SGI \- TP](https://confluence.um.es/confluence/display/HERCULES/SGI+-+TP "https://confluence.um.es/confluence/display/HERCULES/SGI+-+TP") respectivamente según se detalla en el apartado **Hitos de solicitudes** de la página [CSP \- Comunicados](https://confluence.um.es/confluence/display/HERCULES/CSP+-+Comunicados "https://confluence.um.es/confluence/display/HERCULES/CSP+-+Comunicados") y en [CU\-COM\-0020 \- Generar comunicado programado](https://confluence.um.es/confluence/display/HERCULES/CU-COM-0020+-+Generar+comunicado+programado "https://confluence.um.es/confluence/display/HERCULES/CU-COM-0020+-+Generar+comunicado+programado"). 	+ Se creará un nuevo registro en la tabla "solicitud hito aviso" para almacenar el valor del check "Añadir IPs solicitud" y las referencias al comunicado y tarea programada generados en el punto anterior. * Si el campo "Generar aviso" estaba ya marcado y se desmarca: * + Se debe eliminar tanto el comunicado asociado al hito en el módulo de comunicados [COM \- Módulo de Comunicados](https://confluence.um.es/confluence/pages/viewpage.action?pageId=85636024 "https://confluence.um.es/confluence/pages/viewpage.action?pageId=85636024") como la tarea programada en el módulo de tareas programadas [SGI \- TP](https://confluence.um.es/confluence/display/HERCULES/SGI+-+TP "https://confluence.um.es/confluence/display/HERCULES/SGI+-+TP"). 	+ Se eliminará además el registro correspondiente que referencie a ese comunicado y tarea programada en la tabla "solicitud hito aviso". * Si el campo "Generar aviso" estaba ya marcado y se modifican los datos del aviso: * + Los campos específicos del aviso serán utilizados para actualizar, según el caso, el comunicado asociado al hito en el módulo de comunicados [COM \- Módulo de Comunicados](https://confluence.um.es/confluence/pages/viewpage.action?pageId=85636024 "https://confluence.um.es/confluence/pages/viewpage.action?pageId=85636024") como la tarea programada en el módulo de tareas programadas [SGI \- TP](https://confluence.um.es/confluence/display/HERCULES/SGI+-+TP "https://confluence.um.es/confluence/display/HERCULES/SGI+-+TP") referenciados ambos en la tabla "solicitud hito aviso" del hito. |
| Cancelar | Retorna al formulario de la solicitud, sin salvar los posibles cambios |  |




